# INICIO R√ÅPIDO - SmartConnect API

## ‚ö° En 5 minutos...

### 1. Verificar que el servidor est√° ejecut√°ndose

El servidor ya est√° corriendo en:
```
http://localhost:8000/api/
```

### 2. Obtener Token JWT

```bash
curl -X POST http://localhost:8000/api/login/ \
  -H "Content-Type: application/json" \
  -d '{"username": "admin", "password": "admin123456"}'
```

**Respuesta:**
```json
{
  "access": "eyJ0eXAiOiJKV1QiLCJhbGc...",
  "refresh": "eyJ0eXAiOiJKV1QiLCJhbGc...",
  "user": {...}
}
```

Copia el valor de `access` y gu√°rdalo.

### 3. Probar un Endpoint

```bash
curl -X GET http://localhost:8000/api/sensores/ \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

### 4. Simular Lectura RFID (Sin Token)

```bash
curl -X POST http://localhost:8000/api/simular/lectura-sensor/ \
  -H "Content-Type: application/json" \
  -d '{"uid": "AA:BB:CC:DD:EE:01", "departamento_id": 1}'
```

**Respuesta:**
```json
{
  "acceso": "permitido",
  "sensor": "Tarjeta Acceso 001",
  "evento_id": 10
}
```

---

## üìä Informaci√≥n del Proyecto

```bash
curl http://localhost:8000/api/info/
```

---

## üìñ Documentaci√≥n

Abre cualquiera de estos archivos:

1. **README.md** - Quick start (recomendado para comenzar)
2. **DOCUMENTACION_TECNICA.md** - Documentaci√≥n completa (m√°s detallada)
3. **GUIA_ENDPOINTS.txt** - Referencia r√°pida de endpoints
4. **GUIA_DEPLOYMENT_AWS.txt** - C√≥mo desplegar en AWS

---

## üß™ Postman/Apidog

1. Abre Postman o Apidog
2. Click en "Import"
3. Carga el archivo: `SmartConnect_API.postman_collection.json`
4. Selecciona la carpeta "1. AUTENTICACI√ìN"
5. Ejecuta "Login - Obtener Token"
6. Copia el token en la variable `access_token`
7. ¬°Ahora puedes probar cualquier endpoint!

---

## üéØ Primeros Endpoints a Probar

### 1Ô∏è‚É£ Informaci√≥n P√∫blica (No requiere token)
```
GET /api/info/
```

### 2Ô∏è‚É£ Login
```
POST /api/login/
Body: {"username": "admin", "password": "admin123456"}
```

### 3Ô∏è‚É£ Listar Sensores (Requiere token)
```
GET /api/sensores/
Header: Authorization: Bearer {token}
```

### 4Ô∏è‚É£ Simular Lectura RFID (No requiere token)
```
POST /api/simular/lectura-sensor/
Body: {"uid": "AA:BB:CC:DD:EE:01", "departamento_id": 1}
```

### 5Ô∏è‚É£ Ver Eventos
```
GET /api/eventos/
Header: Authorization: Bearer {token}
```

---

## üîê Usuarios de Prueba

### Admin (Acceso total)
- Username: `admin`
- Password: `admin123456`
- Puede: Crear, editar, eliminar todo

### Operador (Solo lectura)
- Username: `operador`
- Password: `operador123456`
- Puede: Solo ver datos

---

## üö™ C√≥digos HTTP Esperados

| C√≥digo | Significado |
|--------|-------------|
| 200 | OK - √âxito |
| 201 | Created - Recurso creado |
| 204 | No Content - Eliminado |
| 400 | Bad Request - Validaci√≥n fallida |
| 401 | Unauthorized - Sin token |
| 403 | Forbidden - Sin permisos |
| 404 | Not Found - No existe |

---

## üÜò Si algo no funciona

### Error: "Connection refused"
‚Üí Aseg√∫rate que el servidor est√© corriendo:
```bash
python manage.py runserver 0.0.0.0:8000
```

### Error: "Not found"
‚Üí Verifica la URL, ej: `/api/sensores/` (con trailing slash)

### Error: "401 Unauthorized"
‚Üí Falta el token JWT, agr√©galo en el header:
```
Authorization: Bearer {tu_token}
```

### Error: "403 Forbidden"
‚Üí No tienes permisos, usa usuario admin

### Error: "400 Bad Request"
‚Üí Verifica los datos que env√≠as, revisa DOCUMENTACION_TECNICA.md

---

## üìö Aprender M√°s

- Documentaci√≥n Django: https://docs.djangoproject.com/
- Django REST Framework: https://www.django-rest-framework.org/
- SimpleJWT: https://django-rest-framework-simplejwt.readthedocs.io/

---

**¬°Listo! Ahora a disfrutar la API üöÄ**

